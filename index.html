<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Real-Time Calendar & Clock</title>
<style>
  :root{
    --bg1:#0b1020; --bg2:#131a33; --accent:#7dd3fc; --accent2:#a78bfa;
    --card:rgba(255,255,255,0.08); --glass:rgba(255,255,255,0.12);
    --text:#e6e8ef; --muted:#a6aec9; --ring:rgba(125,211,252,0.7);
    --shadow:0 10px 30px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; color:var(--text)}
  body{
    background:
      radial-gradient(1200px 800px at 20% 10%, #1b2554 0%, transparent 60%),
      radial-gradient(1000px 600px at 90% 20%, #3b1f5f 0%, transparent 60%),
      linear-gradient(160deg,var(--bg1),var(--bg2));
    display:flex; align-items:center; justify-content:center; padding:28px;
  }

  /* animated orbs */
  .orbs{position:fixed; inset:0; pointer-events:none; z-index:0; filter:blur(48px) saturate(120%); opacity:.55}
  .orb{position:absolute;border-radius:50%;mix-blend-mode:screen;animation:float 28s ease-in-out infinite}
  .o1{width:420px;height:420px;background:#1459ff;left:-80px;top:10%}
  .o2{width:380px;height:380px;background:#b5179e;right:-100px;top:30%}
  .o3{width:320px;height:320px;background:#00f5d4;left:30%;bottom:-120px}
  @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-40px) translateX(20px)}}

  .wrap{position:relative;z-index:1; width:min(1100px,96vw); display:grid; grid-template-columns:1.15fr .85fr; gap:22px; align-items:start}
  @media (max-width:920px){ .wrap{grid-template-columns:1fr} }

  .glass{
    background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
    border:1px solid rgba(255,255,255,.12);
    border-radius:18px; padding:18px; box-shadow:var(--shadow); backdrop-filter:blur(14px) saturate(120%);
  }

  header.appbar{grid-column:1/-1; display:flex; align-items:center; justify-content:space-between; gap:12px}
  .logo{font-weight:800; display:flex; gap:10px; align-items:center}
  .logo .dot{width:12px;height:12px;border-radius:50%;background:var(--accent); box-shadow:0 0 14px var(--ring)}

  .toolbar{display:flex; gap:10px; flex-wrap:wrap}
  .btn{appearance:none;border:none;cursor:pointer;padding:8px 12px;border-radius:12px;background:var(--card); color:var(--text); font-weight:700; border:1px solid rgba(255,255,255,.08)}
  .btn:hover{transform:translateY(-2px);background:var(--glass)}

  /* left column */
  .clock-panel{display:grid; gap:14px}
  .clock-top{display:flex; align-items:center; justify-content:space-between; gap:12px}
  .time{font-size:clamp(26px,5.5vw,52px); font-weight:900}
  .date{color:var(--muted); font-weight:700}
  .tz{color:var(--muted); font-size:13px}

  .analog{width:240px;height:240px;border-radius:50%;position:relative;margin:auto;
    background:radial-gradient(circle at 50% 45%, rgba(255,255,255,.14), rgba(255,255,255,.04));
    border:1px solid rgba(255,255,255,.14); box-shadow: inset 0 0 40px rgba(0,0,0,.35), 0 10px 30px rgba(0,0,0,.35);
  }
  .analog .center{position:absolute;width:12px;height:12px;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--accent); box-shadow:0 0 12px var(--ring)}
  .hand{position:absolute; top:50%; left:50%; transform-origin:bottom center; transform:translate(-50%,-100%) rotate(0deg); border-radius:8px}
  .hand.hour{width:8px;height:70px;background:#fff}
  .hand.min{width:6px;height:92px;background:#cdd3ee}
  .hand.sec{width:2px;height:110px;background:#22d3ee; box-shadow:0 0 12px rgba(34,211,238,.85)}
  .ticks{position:absolute; inset:10px}
  .tick{position:absolute; width:2px; height:10px; background:rgba(255,255,255,.35); top:0; left:50%; transform-origin:bottom center}
  .tick.big{height:16px; background:#fff}

  .calendar{display:grid; gap:12px}
  .cal-header{display:flex; align-items:center; justify-content:space-between}
  .cal-title{font-size:20px; font-weight:900}
  .grid{display:grid; grid-template-columns: repeat(7,1fr); gap:8px}
  .dow{text-align:center; color:var(--muted); font-weight:800; padding:6px 0}
  .cell{aspect-ratio:1/1; border-radius:12px; padding:8px; display:grid; align-items:end; justify-items:start; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06); cursor:pointer; transition: .16s}
  .cell:hover{transform:translateY(-4px); background:rgba(255,255,255,.08)}
  .num{font-weight:800; font-size:14px; color:#e9ecff}
  .cell.muted .num{color:#9aa0bd}
  .cell.today{outline:2px solid var(--ring)}
  .cell.selected{background:linear-gradient(180deg, rgba(125,211,252,.28), rgba(167,139,250,.22)); border-color:rgba(125,211,252,.45)}

  .event-dot{position:absolute; width:8px; height:8px; border-radius:50%; bottom:8px; left:8px; background:var(--accent2); box-shadow:0 0 8px rgba(167,139,250,.9)}
  .holiday{position:absolute; top:8px; right:8px; font-size:11px; background:rgba(239,68,68,.14); color:#fecaca; padding:3px 6px; border-radius:999px; border:1px solid rgba(239,68,68,.35)}

  /* right column */
  .side{display:grid; gap:14px}
  .card{padding:12px}
  .list{display:grid; gap:10px; max-height:300px; overflow:auto}
  .event-item{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px; border-radius:10px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08)}
  input[type="date"], input[type="time"], input[type="text"]{
    padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); color:var(--text); outline:none; font:inherit;
  }

  .footer{color:var(--muted); font-size:13px; text-align:center}
  small.note{display:block; color:var(--muted); margin-top:8px}
</style>
</head>
<body>
  <div class="orbs" aria-hidden="true">
    <div class="orb o1"></div><div class="orb o2"></div><div class="orb o3"></div>
  </div>

  <div class="wrap" role="application" aria-label="Real-time calendar and clock">
    <header class="appbar glass">
      <div class="logo"><span class="dot" aria-hidden="true"></span>Real-Time Calendar & Clock</div>
      <div class="toolbar">
        <button class="btn" id="btnToday">Today</button>
        <button class="btn" id="btnResetEvents">Clear Events</button>
      </div>
    </header>

    <!-- LEFT: clock + calendar -->
    <section class="glass clock-panel" aria-label="Clock and calendar">
      <div class="clock-top">
        <div style="min-width:220px">
          <div id="digitalTime" class="time">--:--:--</div>
          <div id="dateLong" class="date">Loading…</div>
          <div id="tzLabel" class="tz"></div>
        </div>

        <div class="analog" aria-hidden="true">
          <div id="ticks" class="ticks"></div>
          <div id="h" class="hand hour"></div>
          <div id="m" class="hand min"></div>
          <div id="s" class="hand sec"></div>
          <div class="center" aria-hidden="true"></div>
        </div>
      </div>

      <div class="calendar" role="region" aria-label="Monthly calendar">
        <div class="cal-header">
          <div id="calTitle" class="cal-title">Month YYYY</div>
          <div class="cal-controls">
            <button class="btn" id="prev">◀</button>
            <button class="btn" id="next">▶</button>
          </div>
        </div>

        <div id="dow" class="grid" aria-hidden="true"></div>
        <div id="grid" class="grid" role="grid" aria-label="Days"></div>
      </div>
    </section>

    <!-- RIGHT: events -->
    <aside class="side">
      <div class="glass card">
        <h3 style="margin:0 0 8px">Quick Add Event</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <input id="eventDate" type="date" aria-label="Event date">
          <input id="eventTime" type="time" aria-label="Event time">
          <input id="eventName" type="text" placeholder="Event name" aria-label="Event name">
          <button class="btn" id="addEvent">Add</button>
        </div>
        <small class="note">Events stored locally in your browser (localStorage).</small>
      </div>

      <div class="glass card">
        <h3 style="margin:0 0 8px">Upcoming Events</h3>
        <div id="eventList" class="list" aria-live="polite"></div>
      </div>

      <div class="glass card footer">
        Built with ❤ — live every second, realistic glass UI.
      </div>
    </aside>
  </div>

<script>
/* ---- Helpers ---- */
const pad = n => String(n).padStart(2,'0');
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

/* ---- State ---- */
const state = {
  view: new Date(),
  selected: null,
  events: JSON.parse(localStorage.getItem('events.v1') || '[]'),
  holidays: {}
};

/* ---- Ticks for analog ---- */
function buildTicks(){
  const c = $('#ticks');
  for(let i=0;i<60;i++){
    const t = document.createElement('div');
    t.className = 'tick' + (i%5===0 ? ' big' : '');
    t.style.transform = `translate(-50%,0) rotate(${i*6}deg)`;
    t.style.top = '6px';
    c.appendChild(t);
  }
}

/* ---- Clock update ---- */
function formatOffset(d){
  const off = -d.getTimezoneOffset();
  const sign = off >= 0 ? '+' : '-';
  const h = Math.floor(Math.abs(off)/60);
  const m = Math.abs(off)%60;
  return `${sign}${pad(h)}:${pad(m)}`;
}

function updateClock(){
  const now = new Date();
  $('#digitalTime').textContent = `${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}`;
  $('#dateLong').textContent = new Intl.DateTimeFormat(undefined, {weekday:'long', day:'2-digit', month:'long', year:'numeric'}).format(now);
  $('#tzLabel').textContent = (Intl.DateTimeFormat().resolvedOptions().timeZone || 'Local') + ' (UTC' + formatOffset(now) + ')';

  // analog hands
  const hrs = now.getHours(), mins = now.getMinutes(), secs = now.getSeconds();
  const secDeg = secs * 6;
  const minDeg = (mins + secs/60) * 6;
  const hourDeg = ((hrs%12) + mins/60 + secs/3600) * 30;
  $('#s').style.transform = `translate(-50%,-100%) rotate(${secDeg}deg)`;
  $('#m').style.transform = `translate(-50%,-100%) rotate(${minDeg}deg)`;
  $('#h').style.transform = `translate(-50%,-100%) rotate(${hourDeg}deg)`;

  // subtle center pulse
  document.querySelector('.analog .center').style.boxShadow = secs%2===0 ? '0 0 14px rgba(125,211,252,.95)' : '0 0 10px rgba(125,211,252,.6)';

  // pulse today outline
  const todayEl = document.querySelector('.cell.today');
  if(todayEl) todayEl.style.outlineColor = secs%2===0 ? 'rgba(125,211,252,0.95)' : 'rgba(125,211,252,0.45)';
}

/* ---- Calendar rendering ---- */
const dowNames = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
function renderDOW(){
  const c = $('#dow'); c.innerHTML = '';
  dowNames.forEach(d => { const el = document.createElement('div'); el.className='dow'; el.textContent=d; c.appendChild(el); });
}
function startOfMonth(d){ const x = new Date(d); x.setDate(1); x.setHours(0,0,0,0); return x; }
function endOfMonth(d){ const x = new Date(d); x.setMonth(x.getMonth()+1,0); x.setHours(23,59,59,999); return x; }
function isoDate(d){ return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`; }
function sameDate(a,b){ return a && b && a.getFullYear()===b.getFullYear() && a.getMonth()===b.getMonth() && a.getDate()===b.getDate(); }

function renderCalendar(){
  const grid = $('#grid'); grid.innerHTML = '';
  const start = startOfMonth(state.view);
  const end = endOfMonth(state.view);
  const startDay = start.getDay();
  const monthFmt = new Intl.DateTimeFormat(undefined, { month:'long', year:'numeric'});
  $('#calTitle').textContent = monthFmt.format(state.view);

  const cells = [];
  for(let i=0;i<42;i++){
    const cell = document.createElement('div'); cell.className='cell';
    const cellDate = new Date(start);
    cellDate.setDate(1 - startDay + i);
    const dnum = document.createElement('div'); dnum.className='num'; dnum.textContent = cellDate.getDate();
    if(cellDate.getMonth() !== state.view.getMonth()) cell.classList.add('muted');

    const now = new Date();
    if(cellDate.toDateString() === new Date(now.getFullYear(), now.getMonth(), now.getDate()).toDateString()){
      cell.classList.add('today');
    }
    if(state.selected && sameDate(cellDate, state.selected)) cell.classList.add('selected');

    const key = isoDate(cellDate);
    // holiday example (extendable)
    if(state.holidays[key]){ const badge = document.createElement('div'); badge.className='holiday'; badge.textContent = state.holidays[key]; cell.appendChild(badge); }
    // event dot
    if(state.events.some(ev => ev.date === key)){ const dot = document.createElement('div'); dot.className='event-dot'; cell.appendChild(dot); }

    cell.appendChild(dnum);
    cell.addEventListener('click', () => { state.selected = new Date(cellDate); renderCalendar(); revealEventDate(key); });
    cells.push(cell);
  }
  cells.forEach(c => grid.appendChild(c));
}

/* ---- Events ---- */
function saveEvents(){ localStorage.setItem('events.v1', JSON.stringify(state.events)); }
function renderEvents(){
  const list = $('#eventList'); list.innerHTML = '';
  const nowISO = isoDate(new Date());
  const items = state.events.filter(ev => ev.date >= nowISO);
  if(items.length===0){ const p = document.createElement('p'); p.className='tz'; p.textContent='No upcoming events.'; list.appendChild(p); return; }
  items.forEach(ev => {
    const row = document.createElement('div'); row.className='event-item';
    const left = document.createElement('div');
    const nm = document.createElement('div'); nm.className='name'; nm.textContent = ev.name;
    const tm = document.createElement('div'); tm.className='time'; tm.style.color='var(--muted)'; tm.style.fontSize='12px';
    const d = new Date(`${ev.date}T${ev.time || '00:00'}`);
    tm.textContent = new Intl.DateTimeFormat(undefined, { weekday:'short', day:'2-digit', month:'short', hour:'2-digit', minute:'2-digit'}).format(d);
    left.appendChild(nm); left.appendChild(tm);

    const del = document.createElement('button'); del.className='btn'; del.textContent='Delete';
    del.addEventListener('click', ()=>{ state.events = state.events.filter(x=>x.id!==ev.id); saveEvents(); renderCalendar(); renderEvents(); });
    row.appendChild(left); row.appendChild(del);
    list.appendChild(row);
  });
}
function addEvent(){
  const date = $('#eventDate').value;
  const time = $('#eventTime').value || '00:00';
  const name = ($('#eventName').value || '').trim();
  if(!date || !name){ flash($('#eventName')); return; }
  state.events.push({ date, time, name, id: crypto.randomUUID() });
  state.events.sort((a,b)=> (a.date+a.time).localeCompare(b.date+b.time));
  saveEvents(); $('#eventName').value=''; renderCalendar(); renderEvents();
}
function flash(el){ el.style.boxShadow='0 0 0 4px rgba(239,68,68,.45)'; setTimeout(()=>el.style.boxShadow='none',600); }
function revealEventDate(key){
  const idx = state.events.findIndex(ev => ev.date===key);
  if(idx>-1){ const c = $('#eventList').children[idx]; if(c) c.scrollIntoView({behavior:'smooth', block:'center'}); }
}
function clearEvents(){ if(confirm('Clear all stored events?')){ state.events=[]; saveEvents(); renderCalendar(); renderEvents(); } }

/* ---- example holidays loader ---- */
function loadHolidays(){
  const y = new Date().getFullYear();
  const demo = [
    { d:`${y}-01-01`, name:'New Year' },
    { d:`${y}-08-15`, name:'Independence' },
    { d:`${y}-10-02`, name:'Gandhi Jay.' }
  ];
  state.holidays = Object.fromEntries(demo.map(x=>[x.d,x.name]));
}

/* ---- Wire up ---- */
function init(){
  buildTicks(); renderDOW(); renderCalendar(); renderEvents();
  setInterval(updateClock, 1000); updateClock();

  $('#prev').addEventListener('click', ()=>{ state.view.setMonth(state.view.getMonth()-1); renderCalendar(); });
  $('#next').addEventListener('click', ()=>{ state.view.setMonth(state.view.getMonth()+1); renderCalendar(); });
  $('#btnToday').addEventListener('click', ()=>{ state.view = new Date(); state.selected = new Date(); renderCalendar(); });
  $('#addEvent').addEventListener('click', addEvent);
  $('#eventName').addEventListener('keydown', e => { if(e.key === 'Enter') addEvent(); });
  $('#btnResetEvents').addEventListener('click', clearEvents);

  // prefill date to today
  $('#eventDate').value = isoDate(new Date());
}

loadHolidays(); init();
</script>
</body>
</html>
